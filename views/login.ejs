<%- include('partials/header') %>
    <%- include('partials/nav') %>

        <div class="container section" style="margin-top: 4rem;">
            <div class="form-container">
                <div style="display: flex; justify-content: center; gap: 1rem; margin-bottom: 2rem;">
                    <button onclick="showForm('login')" id="loginBtn" class="btn btn-primary">Login</button>
                    <button onclick="showForm('signup')" id="signupBtn" class="btn btn-outline">Sign Up</button>
                </div>

                <% if (typeof error !=='undefined' && error) { %>
                    <div style="color: #CE325B; text-align: center; margin-bottom: 1rem;">
                        <%= error %>
                    </div>
                    <% } %>

                        <!-- Login Form -->
                        <form id="loginForm" action="/login" method="POST">
                            <h2 style="text-align: center; margin-bottom: 1.5rem;">Welcome Back</h2>
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" name="email" required>
                            </div>
                            <div class="form-group">
                                <label for="password">Password</label>
                                <input type="password" name="password" required>
                            </div>
                            <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
                        </form>

                        <!-- Signup Form -->
                        <form id="signupForm" action="/signup" method="POST" style="display: none;">
                            <h2 style="text-align: center; margin-bottom: 1.5rem;">Create Account</h2>
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" name="email" required>
                            </div>
                            <div class="form-group">
                                <label for="password">Password</label>
                                <input type="password" name="password" required>
                            </div>
                            <div class="form-group">
                                <label for="confirm_password">Confirm Password</label>
                                <input type="password" name="confirm_password" required>
                            </div>
                            <button type="submit" class="btn btn-primary" style="width: 100%;">Sign Up</button>
                        </form>
            </div>
        </div>

        <script>
            function showForm(form) {
                const loginForm = document.getElementById('loginForm');
                const signupForm = document.getElementById('signupForm');
                const loginBtn = document.getElementById('loginBtn');
                const signupBtn = document.getElementById('signupBtn');

                if (form === 'login') {
                    loginForm.style.display = 'block';
                    signupForm.style.display = 'none';
                    loginBtn.classList.add('btn-primary');
                    loginBtn.classList.remove('btn-outline');
                    signupBtn.classList.add('btn-outline');
                    signupBtn.classList.remove('btn-primary');
                } else {
                    loginForm.style.display = 'none';
                    signupForm.style.display = 'block';
                    signupBtn.classList.add('btn-primary');
                    signupBtn.classList.remove('btn-outline');
                    loginBtn.classList.add('btn-outline');
                    loginBtn.classList.remove('btn-primary');
                }
            }
        </script>

        <%- include('partials/footer') %>